<div id="item-container">
    <mat-toolbar>
        <mat-progress-bar *ngIf="loading" mode="buffer"></mat-progress-bar>
        <mat-toolbar-row>
            <span class="item-icon" [ngSwitch]="model?.Type">
                <mat-icon *ngSwitchCase="'video'">ondemand_video</mat-icon>
                <mat-icon *ngSwitchCase="'image'">photo_camera_back</mat-icon>
                <mat-icon *ngSwitchCase="'unknown'">article</mat-icon>
            </span>
            <span class="title" [innerHTML]="model?.Title"></span>

            <span class="flex"></span>

            <span class="item-buttons">
                <button mat-icon-button (click)="openLink()" matTooltip="Open link in new window"
                    matTooltipPosition="above">
                    <mat-icon>open_in_new</mat-icon>
                </button>
                <button [disabled]="loading" mat-icon-button (click)="donwloadItem()" matTooltip="Download content"
                    matTooltipPosition="above">
                    <mat-icon>download</mat-icon>
                </button>
                <button mat-icon-button (click)="close.emit()">
                    <mat-icon>close</mat-icon>
                </button>
            </span>
        </mat-toolbar-row>
    </mat-toolbar>


    <div id="main" [appLoadingMask]="loading">

        <!-- videos -->

        <div *ngIf="model?.Type == 'video'" style="height: 50%;">
            <app-iframe-player [url]="model?.Content">
            </app-iframe-player>
        </div>

        <!-- description -->
        <div *ngIf="model?.Type == 'video'" style="height: 48%; overflow: auto;" class="description mat-body-1">
            <div *ngIf="model?.Provider == 'youtube' || model?.Provider == 'bitchute'" [innerText]="model?.Description">
            </div>
            <div *ngIf="model?.Provider == 'lbry'" [innerHTML]="model?.Description">
            </div>
        </div>


        <div class="content mat-body-1" *ngIf="model?.Type != 'video' && content" [innerHTML]="content">
        </div>

        <div class="content mat-body-1" *ngIf="model?.Type != 'video' && model?.Description"
            [innerHTML]="model?.Description">
        </div>

    </div>
</div>